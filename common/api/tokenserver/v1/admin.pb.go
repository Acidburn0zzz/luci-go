// Code generated by protoc-gen-go.
// source: admin.proto
// DO NOT EDIT!

/*
Package tokenserver is a generated protocol buffer package.

It is generated from these files:
	admin.proto
	config.proto

It has these top-level messages:
	ImportConfigResponse
	FetchCRLRequest
	FetchCRLResponse
	GetCAStatusRequest
	GetCAStatusResponse
	CRLStatus
	TokenServerConfig
	CertificateAuthorityConfig
*/
package tokenserver

import prpccommon "github.com/luci/luci-go/common/prpc"
import prpc "github.com/luci/luci-go/server/prpc"

import proto "github.com/golang/protobuf/proto"
import fmt "fmt"
import math "math"
import google_protobuf "github.com/luci/luci-go/common/proto/google"
import google_protobuf1 "github.com/luci/luci-go/common/proto/google"

import (
	context "golang.org/x/net/context"
	grpc "google.golang.org/grpc"
)

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

// ImportConfigResponse is returned by ImportConfig on success.
type ImportConfigResponse struct {
	Revision string `protobuf:"bytes,1,opt,name=revision" json:"revision,omitempty"`
}

func (m *ImportConfigResponse) Reset()                    { *m = ImportConfigResponse{} }
func (m *ImportConfigResponse) String() string            { return proto.CompactTextString(m) }
func (*ImportConfigResponse) ProtoMessage()               {}
func (*ImportConfigResponse) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{0} }

// FetchCRLRequest identifies a name of CA to fetch CRL for.
type FetchCRLRequest struct {
	Cn    string `protobuf:"bytes,1,opt,name=cn" json:"cn,omitempty"`
	Force bool   `protobuf:"varint,2,opt,name=force" json:"force,omitempty"`
}

func (m *FetchCRLRequest) Reset()                    { *m = FetchCRLRequest{} }
func (m *FetchCRLRequest) String() string            { return proto.CompactTextString(m) }
func (*FetchCRLRequest) ProtoMessage()               {}
func (*FetchCRLRequest) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{1} }

// FetchCRLResponse is returned by FetchCRL.
type FetchCRLResponse struct {
	CrlStatus *CRLStatus `protobuf:"bytes,1,opt,name=crl_status" json:"crl_status,omitempty"`
}

func (m *FetchCRLResponse) Reset()                    { *m = FetchCRLResponse{} }
func (m *FetchCRLResponse) String() string            { return proto.CompactTextString(m) }
func (*FetchCRLResponse) ProtoMessage()               {}
func (*FetchCRLResponse) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{2} }

func (m *FetchCRLResponse) GetCrlStatus() *CRLStatus {
	if m != nil {
		return m.CrlStatus
	}
	return nil
}

// GetCAStatusRequest identifies a name of CA to fetch.
type GetCAStatusRequest struct {
	Cn string `protobuf:"bytes,1,opt,name=cn" json:"cn,omitempty"`
}

func (m *GetCAStatusRequest) Reset()                    { *m = GetCAStatusRequest{} }
func (m *GetCAStatusRequest) String() string            { return proto.CompactTextString(m) }
func (*GetCAStatusRequest) ProtoMessage()               {}
func (*GetCAStatusRequest) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{3} }

// GetCAStatusResponse is returned by GetCAStatus method.
//
// If requested CA doesn't exist, all fields are empty.
type GetCAStatusResponse struct {
	Config     *CertificateAuthorityConfig `protobuf:"bytes,1,opt,name=config" json:"config,omitempty"`
	Cert       string                      `protobuf:"bytes,2,opt,name=cert" json:"cert,omitempty"`
	Removed    bool                        `protobuf:"varint,3,opt,name=removed" json:"removed,omitempty"`
	Ready      bool                        `protobuf:"varint,4,opt,name=ready" json:"ready,omitempty"`
	AddedRev   string                      `protobuf:"bytes,5,opt,name=added_rev" json:"added_rev,omitempty"`
	UpdatedRev string                      `protobuf:"bytes,6,opt,name=updated_rev" json:"updated_rev,omitempty"`
	RemovedRev string                      `protobuf:"bytes,7,opt,name=removed_rev" json:"removed_rev,omitempty"`
	CrlStatus  *CRLStatus                  `protobuf:"bytes,8,opt,name=crl_status" json:"crl_status,omitempty"`
}

func (m *GetCAStatusResponse) Reset()                    { *m = GetCAStatusResponse{} }
func (m *GetCAStatusResponse) String() string            { return proto.CompactTextString(m) }
func (*GetCAStatusResponse) ProtoMessage()               {}
func (*GetCAStatusResponse) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{4} }

func (m *GetCAStatusResponse) GetConfig() *CertificateAuthorityConfig {
	if m != nil {
		return m.Config
	}
	return nil
}

func (m *GetCAStatusResponse) GetCrlStatus() *CRLStatus {
	if m != nil {
		return m.CrlStatus
	}
	return nil
}

// CRLStatus describes the latest known state of imported CRL.
type CRLStatus struct {
	LastUpdateTime    *google_protobuf1.Timestamp `protobuf:"bytes,1,opt,name=last_update_time" json:"last_update_time,omitempty"`
	LastFetchTime     *google_protobuf1.Timestamp `protobuf:"bytes,2,opt,name=last_fetch_time" json:"last_fetch_time,omitempty"`
	LastFetchEtag     string                      `protobuf:"bytes,3,opt,name=last_fetch_etag" json:"last_fetch_etag,omitempty"`
	RevokedCertsCount int64                       `protobuf:"varint,4,opt,name=revoked_certs_count" json:"revoked_certs_count,omitempty"`
}

func (m *CRLStatus) Reset()                    { *m = CRLStatus{} }
func (m *CRLStatus) String() string            { return proto.CompactTextString(m) }
func (*CRLStatus) ProtoMessage()               {}
func (*CRLStatus) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{5} }

func (m *CRLStatus) GetLastUpdateTime() *google_protobuf1.Timestamp {
	if m != nil {
		return m.LastUpdateTime
	}
	return nil
}

func (m *CRLStatus) GetLastFetchTime() *google_protobuf1.Timestamp {
	if m != nil {
		return m.LastFetchTime
	}
	return nil
}

func init() {
	proto.RegisterType((*ImportConfigResponse)(nil), "tokenserver.ImportConfigResponse")
	proto.RegisterType((*FetchCRLRequest)(nil), "tokenserver.FetchCRLRequest")
	proto.RegisterType((*FetchCRLResponse)(nil), "tokenserver.FetchCRLResponse")
	proto.RegisterType((*GetCAStatusRequest)(nil), "tokenserver.GetCAStatusRequest")
	proto.RegisterType((*GetCAStatusResponse)(nil), "tokenserver.GetCAStatusResponse")
	proto.RegisterType((*CRLStatus)(nil), "tokenserver.CRLStatus")
}

// Reference imports to suppress errors if they are not otherwise used.
var _ context.Context
var _ grpc.ClientConn

// Client API for Admin service

type AdminClient interface {
	// ImportConfig makes the server read its config from luci-config right now.
	//
	// Note that regularly configs are read in background each 5 min. ImportConfig
	// can be used to force config reread immediately. It will block until configs
	// are read.
	ImportConfig(ctx context.Context, in *google_protobuf.Empty, opts ...grpc.CallOption) (*ImportConfigResponse, error)
	// FetchCRL makes the server fetch a CRL for some CA.
	FetchCRL(ctx context.Context, in *FetchCRLRequest, opts ...grpc.CallOption) (*FetchCRLResponse, error)
	// GetCAStatus returns configuration of some CA defined in the config.
	GetCAStatus(ctx context.Context, in *GetCAStatusRequest, opts ...grpc.CallOption) (*GetCAStatusResponse, error)
}
type adminPRPCClient struct {
	client *prpccommon.Client
}

func NewAdminPRPCClient(client *prpccommon.Client) AdminClient {
	return &adminPRPCClient{client}
}

func (c *adminPRPCClient) ImportConfig(ctx context.Context, in *google_protobuf.Empty, opts ...grpc.CallOption) (*ImportConfigResponse, error) {
	out := new(ImportConfigResponse)
	err := c.client.Call(ctx, "tokenserver.Admin", "ImportConfig", in, out, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *adminPRPCClient) FetchCRL(ctx context.Context, in *FetchCRLRequest, opts ...grpc.CallOption) (*FetchCRLResponse, error) {
	out := new(FetchCRLResponse)
	err := c.client.Call(ctx, "tokenserver.Admin", "FetchCRL", in, out, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *adminPRPCClient) GetCAStatus(ctx context.Context, in *GetCAStatusRequest, opts ...grpc.CallOption) (*GetCAStatusResponse, error) {
	out := new(GetCAStatusResponse)
	err := c.client.Call(ctx, "tokenserver.Admin", "GetCAStatus", in, out, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

type adminClient struct {
	cc *grpc.ClientConn
}

func NewAdminClient(cc *grpc.ClientConn) AdminClient {
	return &adminClient{cc}
}

func (c *adminClient) ImportConfig(ctx context.Context, in *google_protobuf.Empty, opts ...grpc.CallOption) (*ImportConfigResponse, error) {
	out := new(ImportConfigResponse)
	err := grpc.Invoke(ctx, "/tokenserver.Admin/ImportConfig", in, out, c.cc, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *adminClient) FetchCRL(ctx context.Context, in *FetchCRLRequest, opts ...grpc.CallOption) (*FetchCRLResponse, error) {
	out := new(FetchCRLResponse)
	err := grpc.Invoke(ctx, "/tokenserver.Admin/FetchCRL", in, out, c.cc, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *adminClient) GetCAStatus(ctx context.Context, in *GetCAStatusRequest, opts ...grpc.CallOption) (*GetCAStatusResponse, error) {
	out := new(GetCAStatusResponse)
	err := grpc.Invoke(ctx, "/tokenserver.Admin/GetCAStatus", in, out, c.cc, opts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

// Server API for Admin service

type AdminServer interface {
	// ImportConfig makes the server read its config from luci-config right now.
	//
	// Note that regularly configs are read in background each 5 min. ImportConfig
	// can be used to force config reread immediately. It will block until configs
	// are read.
	ImportConfig(context.Context, *google_protobuf.Empty) (*ImportConfigResponse, error)
	// FetchCRL makes the server fetch a CRL for some CA.
	FetchCRL(context.Context, *FetchCRLRequest) (*FetchCRLResponse, error)
	// GetCAStatus returns configuration of some CA defined in the config.
	GetCAStatus(context.Context, *GetCAStatusRequest) (*GetCAStatusResponse, error)
}

func RegisterAdminServer(s prpc.Registrar, srv AdminServer) {
	s.RegisterService(&_Admin_serviceDesc, srv)
}

func _Admin_ImportConfig_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error) (interface{}, error) {
	in := new(google_protobuf.Empty)
	if err := dec(in); err != nil {
		return nil, err
	}
	out, err := srv.(AdminServer).ImportConfig(ctx, in)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func _Admin_FetchCRL_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error) (interface{}, error) {
	in := new(FetchCRLRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	out, err := srv.(AdminServer).FetchCRL(ctx, in)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func _Admin_GetCAStatus_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error) (interface{}, error) {
	in := new(GetCAStatusRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	out, err := srv.(AdminServer).GetCAStatus(ctx, in)
	if err != nil {
		return nil, err
	}
	return out, nil
}

var _Admin_serviceDesc = grpc.ServiceDesc{
	ServiceName: "tokenserver.Admin",
	HandlerType: (*AdminServer)(nil),
	Methods: []grpc.MethodDesc{
		{
			MethodName: "ImportConfig",
			Handler:    _Admin_ImportConfig_Handler,
		},
		{
			MethodName: "FetchCRL",
			Handler:    _Admin_FetchCRL_Handler,
		},
		{
			MethodName: "GetCAStatus",
			Handler:    _Admin_GetCAStatus_Handler,
		},
	},
	Streams: []grpc.StreamDesc{},
}

var fileDescriptor0 = []byte{
	// 461 bytes of a gzipped FileDescriptorProto
	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x09, 0x6e, 0x88, 0x02, 0xff, 0x84, 0x52, 0xc1, 0x6e, 0xd3, 0x40,
	0x10, 0x95, 0xd3, 0x26, 0x8d, 0xc7, 0x41, 0x09, 0x1b, 0x54, 0x2c, 0x17, 0xd4, 0xe0, 0x0b, 0x15,
	0x42, 0xae, 0xd4, 0x22, 0x71, 0x43, 0x8a, 0x22, 0xa8, 0x2a, 0x71, 0x40, 0x81, 0xbb, 0xe5, 0xda,
	0xe3, 0xd4, 0x22, 0xf6, 0x9a, 0xf5, 0x38, 0x52, 0xfe, 0x89, 0xdf, 0xe2, 0xc8, 0x3f, 0xb0, 0xde,
	0x5d, 0x43, 0xdc, 0x36, 0xf4, 0x38, 0x3b, 0x33, 0xef, 0xed, 0x7b, 0xf3, 0xc0, 0x89, 0x92, 0x3c,
	0x2b, 0x82, 0x52, 0x70, 0xe2, 0xcc, 0x21, 0xfe, 0x1d, 0x8b, 0x0a, 0xc5, 0x06, 0x85, 0x37, 0x8a,
	0x79, 0x91, 0x66, 0x2b, 0xdd, 0xf2, 0x4e, 0x56, 0x9c, 0xaf, 0xd6, 0x78, 0xae, 0xaa, 0x9b, 0x3a,
	0x3d, 0xc7, 0xbc, 0xa4, 0xad, 0x69, 0x9e, 0xde, 0x6d, 0x52, 0x96, 0x63, 0x45, 0x51, 0x5e, 0xea,
	0x01, 0xff, 0x0c, 0x9e, 0x5d, 0xe7, 0x25, 0x17, 0xb4, 0x50, 0x98, 0x4b, 0xac, 0x4a, 0x2e, 0x79,
	0xd8, 0x04, 0x86, 0x02, 0x37, 0x59, 0x95, 0xf1, 0xc2, 0xb5, 0x66, 0xd6, 0x99, 0xed, 0xbf, 0x85,
	0xf1, 0x27, 0xa4, 0xf8, 0x76, 0xb1, 0xfc, 0xbc, 0xc4, 0x1f, 0xb5, 0x44, 0x61, 0x00, 0xbd, 0xd8,
	0xb4, 0xd9, 0x13, 0xe8, 0xa7, 0x5c, 0xc4, 0xe8, 0xf6, 0x64, 0x39, 0xf4, 0x3f, 0xc0, 0xe4, 0xdf,
	0xb4, 0xc1, 0x7c, 0x03, 0x10, 0x8b, 0x75, 0x28, 0xe9, 0xa9, 0xae, 0xd4, 0x9a, 0x73, 0x71, 0x1c,
	0xec, 0x28, 0x0b, 0xe4, 0xf4, 0x57, 0xd5, 0xf5, 0x67, 0xc0, 0xae, 0x90, 0x16, 0x73, 0x5d, 0x3e,
	0x40, 0xe8, 0xff, 0xb2, 0x60, 0xda, 0x19, 0x31, 0x2c, 0xef, 0x61, 0xa0, 0xfd, 0x31, 0x0c, 0xaf,
	0xbb, 0x0c, 0x28, 0x28, 0x4b, 0xb3, 0x38, 0x22, 0x9c, 0xd7, 0x74, 0xcb, 0x45, 0x46, 0x5b, 0x2d,
	0x9d, 0x8d, 0xe0, 0x30, 0x96, 0x5d, 0x25, 0xc0, 0x66, 0x63, 0x38, 0x12, 0x98, 0xf3, 0x0d, 0x26,
	0xee, 0x41, 0xa3, 0xa8, 0x11, 0x28, 0x30, 0x4a, 0xb6, 0xee, 0xa1, 0x2a, 0x9f, 0x82, 0x1d, 0x25,
	0x09, 0x26, 0xa1, 0xb4, 0xc9, 0xed, 0xab, 0x95, 0x29, 0x38, 0x75, 0x99, 0x48, 0x64, 0xfd, 0x38,
	0x68, 0x1f, 0x0d, 0x8e, 0x7a, 0x3c, 0x52, 0x8f, 0x5d, 0x27, 0x86, 0xff, 0x75, 0xe2, 0xa7, 0x05,
	0xf6, 0xdf, 0x8a, 0xbd, 0x83, 0xc9, 0x3a, 0xaa, 0x28, 0xd4, 0x44, 0x61, 0x73, 0x4e, 0xa3, 0xd3,
	0x0b, 0xf4, 0xad, 0x83, 0xf6, 0xd6, 0xc1, 0xb7, 0xf6, 0xd6, 0xec, 0x12, 0xc6, 0x6a, 0x2b, 0x6d,
	0x4e, 0xa2, 0x97, 0x7a, 0x8f, 0x2e, 0x3d, 0xef, 0x2c, 0x21, 0x45, 0x2b, 0xe5, 0x84, 0xcd, 0x4e,
	0x60, 0x2a, 0xa5, 0xc8, 0xcf, 0x26, 0x61, 0x63, 0x58, 0x15, 0xc6, 0xbc, 0x2e, 0x48, 0xf9, 0x72,
	0x70, 0xf1, 0xdb, 0x82, 0xfe, 0xbc, 0x49, 0x2e, 0xbb, 0x86, 0xd1, 0x6e, 0xb4, 0xd8, 0xf1, 0x3d,
	0xae, 0x8f, 0x4d, 0x52, 0xbd, 0x57, 0x1d, 0xe1, 0x0f, 0xa6, 0xf1, 0x0a, 0x86, 0x6d, 0x9a, 0xd8,
	0x8b, 0xce, 0xf8, 0x9d, 0x48, 0x7a, 0x2f, 0xf7, 0x74, 0x0d, 0xd0, 0x17, 0x70, 0x76, 0x32, 0xc3,
	0x4e, 0x3b, 0xd3, 0xf7, 0x03, 0xe7, 0xcd, 0xf6, 0x0f, 0x68, 0xc4, 0x9b, 0x81, 0x52, 0x73, 0xf9,
	0x27, 0x00, 0x00, 0xff, 0xff, 0x25, 0x65, 0x62, 0x25, 0xaf, 0x03, 0x00, 0x00,
}
