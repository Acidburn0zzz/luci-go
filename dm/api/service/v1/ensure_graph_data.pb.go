// Code generated by protoc-gen-go.
// source: github.com/luci/luci-go/dm/api/service/v1/ensure_graph_data.proto
// DO NOT EDIT!

package dm

import proto "github.com/golang/protobuf/proto"
import fmt "fmt"
import math "math"
import template "github.com/luci/luci-go/common/api/template"

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

type TemplateInstantiation struct {
	// project is the luci-config project which defines the template.
	Project string `protobuf:"bytes,1,opt,name=project" json:"project,omitempty"`
	// ref is the git ref of the project that defined this template. If omitted,
	// this will use the template definition from the project-wide configuration
	// and not the configuration located on a particular ref (like
	// 'refs/heads/master').
	Ref string `protobuf:"bytes,2,opt,name=ref" json:"ref,omitempty"`
	// specifier specifies the actual template name, as well as any substitution
	// parameters which that template might require.
	Specifier *template.Specifier `protobuf:"bytes,4,opt,name=specifier" json:"specifier,omitempty"`
}

func (m *TemplateInstantiation) Reset()                    { *m = TemplateInstantiation{} }
func (m *TemplateInstantiation) String() string            { return proto.CompactTextString(m) }
func (*TemplateInstantiation) ProtoMessage()               {}
func (*TemplateInstantiation) Descriptor() ([]byte, []int) { return fileDescriptor1, []int{0} }

func (m *TemplateInstantiation) GetSpecifier() *template.Specifier {
	if m != nil {
		return m.Specifier
	}
	return nil
}

// EnsureGraphDataReq allows you to assert some things about the state of DM's
// graph:
//   * That 0 or more quest descriptions exist (the `quests` and
//     `template_quest` field).
//   * That 0 or more attempts exist (the `attempts` field)
//     * That those `attempts` are dependencies of a particular execution
//
// One of quests or attempts MUST be provided, it's an error for them to both
// be empty. Any quest description must have at least one corresponding Attempt
// number (i.e. you are not permitted to add a Quest without also adding at
// least one Attempt of it).
//
// In response, DM will tell you what the IDs of all supplied Quests/Attempts
// are. If the `attempts` were being created as dependencies, and were already
// in the Finished state, this request can also opt to include the
// AttemptResults directly.
type EnsureGraphDataReq struct {
	// Quest is a list of quest descriptors. DM will ensure that the
	// corresponding Quests exist. If they don't, they'll be created.
	Quest []*Quest_Desc `protobuf:"bytes,1,rep,name=quest" json:"quest,omitempty"`
	// Attempts is a list that asserts that the following attempts should
	// exist. The quest ids in this list must either be known to DM, or have
	// their descriptions included in the quests field above.
	Attempts *AttemptList `protobuf:"bytes,2,opt,name=attempts" json:"attempts,omitempty"`
	// TemplateQuest allows the addition of quests which are derived from
	// Templates, as defined on a per-project basis.
	TemplateQuest []*TemplateInstantiation `protobuf:"bytes,3,rep,name=template_quest,json=templateQuest" json:"template_quest,omitempty"`
	// TemplateAttempt allows the addition of attempts which are derived from
	// Templates. This must be equal in length to template_quest.
	// Each entry here maps 1:1 with the equivalent quest in template_quest.
	TemplateAttempt []*AttemptList_Nums `protobuf:"bytes,4,rep,name=template_attempt,json=templateAttempt" json:"template_attempt,omitempty"`
	// ForExecution is an authentication pair (Execution_ID, Token).
	//
	// If this is provided then it will serve as authorization for the creation of
	// any `quests` included, and any `attempts` indicated will be set as
	// dependencies for the execution.
	//
	// If this omitted, then the request requires some user/bot authentication,
	// and any quests/attempts provided will be made standalone (e.g. nothing will
	// depend on them).
	ForExecution *Execution_Auth             `protobuf:"bytes,5,opt,name=for_execution,json=forExecution" json:"for_execution,omitempty"`
	Limit        *EnsureGraphDataReq_Limit   `protobuf:"bytes,6,opt,name=limit" json:"limit,omitempty"`
	Include      *EnsureGraphDataReq_Include `protobuf:"bytes,7,opt,name=include" json:"include,omitempty"`
}

func (m *EnsureGraphDataReq) Reset()                    { *m = EnsureGraphDataReq{} }
func (m *EnsureGraphDataReq) String() string            { return proto.CompactTextString(m) }
func (*EnsureGraphDataReq) ProtoMessage()               {}
func (*EnsureGraphDataReq) Descriptor() ([]byte, []int) { return fileDescriptor1, []int{1} }

func (m *EnsureGraphDataReq) GetQuest() []*Quest_Desc {
	if m != nil {
		return m.Quest
	}
	return nil
}

func (m *EnsureGraphDataReq) GetAttempts() *AttemptList {
	if m != nil {
		return m.Attempts
	}
	return nil
}

func (m *EnsureGraphDataReq) GetTemplateQuest() []*TemplateInstantiation {
	if m != nil {
		return m.TemplateQuest
	}
	return nil
}

func (m *EnsureGraphDataReq) GetTemplateAttempt() []*AttemptList_Nums {
	if m != nil {
		return m.TemplateAttempt
	}
	return nil
}

func (m *EnsureGraphDataReq) GetForExecution() *Execution_Auth {
	if m != nil {
		return m.ForExecution
	}
	return nil
}

func (m *EnsureGraphDataReq) GetLimit() *EnsureGraphDataReq_Limit {
	if m != nil {
		return m.Limit
	}
	return nil
}

func (m *EnsureGraphDataReq) GetInclude() *EnsureGraphDataReq_Include {
	if m != nil {
		return m.Include
	}
	return nil
}

type EnsureGraphDataReq_Limit struct {
	// MaxDataSize sets the maximum amount of 'Data' (in bytes) that can be
	// returned, if include.attempt_result is set. If this limit is hit, then
	// the appropriate 'partial' value will be set for that object, but the base
	// object would still be included in the result.
	//
	// If this limit is 0, a default limit of 16MB will be used. If this limit
	// exceeds 30MB, it will be reduced to 30MB.
	MaxDataSize uint32 `protobuf:"varint,3,opt,name=max_data_size,json=maxDataSize" json:"max_data_size,omitempty"`
}

func (m *EnsureGraphDataReq_Limit) Reset()                    { *m = EnsureGraphDataReq_Limit{} }
func (m *EnsureGraphDataReq_Limit) String() string            { return proto.CompactTextString(m) }
func (*EnsureGraphDataReq_Limit) ProtoMessage()               {}
func (*EnsureGraphDataReq_Limit) Descriptor() ([]byte, []int) { return fileDescriptor1, []int{1, 0} }

type EnsureGraphDataReq_Include struct {
	// AttemptResult will include the Attempt result payloads for any Attempts
	// that it returns were already in the Finished state.
	//
	// If the request would return more than limit.max_data_size of data, the
	// remaining attempt results will have their Partial.Data field set to true.
	AttemptResult bool `protobuf:"varint,4,opt,name=attempt_result,json=attemptResult" json:"attempt_result,omitempty"`
}

func (m *EnsureGraphDataReq_Include) Reset()                    { *m = EnsureGraphDataReq_Include{} }
func (m *EnsureGraphDataReq_Include) String() string            { return proto.CompactTextString(m) }
func (*EnsureGraphDataReq_Include) ProtoMessage()               {}
func (*EnsureGraphDataReq_Include) Descriptor() ([]byte, []int) { return fileDescriptor1, []int{1, 1} }

type EnsureGraphDataRsp struct {
	// accepted is true when all new graph data was journaled successfully. This
	// means that `quests`, `attempts`, `template_quest`, `template_attempt` were
	// all well-formed and are scheduled to be added. They will 'eventually' be
	// readable via other APIs (like WalkGraph), but when they are, they'll have
	// the IDs reflected in this response.
	//
	// If `attempts` referrs to quests that don't exist and weren't provided in
	// `quests`, those quests will be listed in `result` with the DNE flag set.
	//
	// If `template_quest` had errors (missing template, bad params, etc.), the
	// errors will be located in `template_error`. If all of the templates parsed
	// successfully, the quest ids for those rendered `template_quest` will be in
	// `template_ids`.
	Accepted bool `protobuf:"varint,1,opt,name=accepted" json:"accepted,omitempty"`
	// template_ids will be populated with the Quest.IDs of any templates defined
	// by template_quest in the initial request. Its length is guaranteed to match
	// the length of template_quest, if there were no errors.
	TemplateIds []*Quest_ID `protobuf:"bytes,2,rep,name=template_ids,json=templateIds" json:"template_ids,omitempty"`
	// template_error is either empty if there were no template errors, or the
	// length of template_quest. Non-empty strings are errors.
	TemplateError []string `protobuf:"bytes,3,rep,name=template_error,json=templateError" json:"template_error,omitempty"`
	// result holds the graph data pertaining to the request, containing any
	// graph state that already existed at the time of the call. Any new data
	// that was added to the graph state (accepted==true) will appear with
	// `DNE==true`.
	//
	// Quest data will always be returned for any Quests which exist.
	//
	// If accepted==false, you can inspect this to determine why:
	//   * Quests (without data) mentioned by the `attempts` field that do not
	//     exist will have `DNE==true`.
	//
	// This also can be used to make adding dependencies a stateless
	// single-request action:
	//   * Attempts requested (assuming the corresponding Quest exists) will
	//     contain their current state. If Include.AttemptResult was true, the
	//     results will be populated (with the size limit mentioned in the request
	//     documentation).
	Result *GraphData `protobuf:"bytes,4,opt,name=result" json:"result,omitempty"`
	// (if `for_execution` was specified) ShouldHalt indicates that the request
	// was accepted by DM, and the execution should halt (DM will re-execute the
	// Attempt when it becomes unblocked). If this is true, then the execution's
	// auth Token is also revoked and will no longer work for futher API calls.
	//
	// If `for_execution` was provided in the request and this is false, it means
	// that the execution may continue executing.
	ShouldHalt bool `protobuf:"varint,5,opt,name=should_halt,json=shouldHalt" json:"should_halt,omitempty"`
}

func (m *EnsureGraphDataRsp) Reset()                    { *m = EnsureGraphDataRsp{} }
func (m *EnsureGraphDataRsp) String() string            { return proto.CompactTextString(m) }
func (*EnsureGraphDataRsp) ProtoMessage()               {}
func (*EnsureGraphDataRsp) Descriptor() ([]byte, []int) { return fileDescriptor1, []int{2} }

func (m *EnsureGraphDataRsp) GetTemplateIds() []*Quest_ID {
	if m != nil {
		return m.TemplateIds
	}
	return nil
}

func (m *EnsureGraphDataRsp) GetResult() *GraphData {
	if m != nil {
		return m.Result
	}
	return nil
}

func init() {
	proto.RegisterType((*TemplateInstantiation)(nil), "dm.TemplateInstantiation")
	proto.RegisterType((*EnsureGraphDataReq)(nil), "dm.EnsureGraphDataReq")
	proto.RegisterType((*EnsureGraphDataReq_Limit)(nil), "dm.EnsureGraphDataReq.Limit")
	proto.RegisterType((*EnsureGraphDataReq_Include)(nil), "dm.EnsureGraphDataReq.Include")
	proto.RegisterType((*EnsureGraphDataRsp)(nil), "dm.EnsureGraphDataRsp")
}

func init() {
	proto.RegisterFile("github.com/luci/luci-go/dm/api/service/v1/ensure_graph_data.proto", fileDescriptor1)
}

var fileDescriptor1 = []byte{
	// 583 bytes of a gzipped FileDescriptorProto
	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x09, 0x6e, 0x88, 0x02, 0xff, 0x8c, 0x53, 0x5d, 0x8b, 0xd3, 0x40,
	0x14, 0xa5, 0x1f, 0x69, 0xd2, 0xc9, 0x66, 0x37, 0x8c, 0x0a, 0xb1, 0x88, 0x4a, 0x51, 0x58, 0x10,
	0x13, 0xb6, 0x22, 0x2b, 0xbe, 0xe8, 0x42, 0x8b, 0x56, 0x16, 0xc1, 0x59, 0x9f, 0x7c, 0x09, 0xd9,
	0xe4, 0xb6, 0x1d, 0xc9, 0xd7, 0xce, 0x4c, 0x96, 0x55, 0xfc, 0x3d, 0xfe, 0x1e, 0x7f, 0x92, 0x33,
	0x93, 0x8f, 0x2e, 0x5b, 0x0b, 0xbe, 0x5c, 0x9a, 0x33, 0xe7, 0x9c, 0x7b, 0xe7, 0xce, 0x29, 0x3a,
	0x5b, 0x53, 0xb1, 0xa9, 0x2e, 0xfd, 0xb8, 0xc8, 0x82, 0xb4, 0x8a, 0xa9, 0x2e, 0x2f, 0xd7, 0x45,
	0x90, 0x64, 0x41, 0x54, 0xd2, 0x80, 0x03, 0xbb, 0xa6, 0x31, 0x04, 0xd7, 0x27, 0x01, 0xe4, 0xbc,
	0x62, 0x10, 0xae, 0x59, 0x54, 0x6e, 0xc2, 0x24, 0x12, 0x91, 0x5f, 0xb2, 0x42, 0x14, 0xb8, 0x9f,
	0x64, 0x93, 0xb7, 0xfb, 0x6c, 0x24, 0x90, 0x15, 0xb9, 0xb6, 0x12, 0x90, 0x95, 0x69, 0x24, 0xa0,
	0xfb, 0x51, 0xeb, 0xf7, 0x6b, 0x77, 0x47, 0xb8, 0xdb, 0x7b, 0xf2, 0xfa, 0xff, 0xb5, 0xe2, 0x47,
	0x09, 0xbc, 0x96, 0x4d, 0x7f, 0xa1, 0x07, 0x5f, 0x9b, 0x21, 0x96, 0x39, 0x17, 0x51, 0x2e, 0x68,
	0x24, 0x68, 0x91, 0x63, 0x0f, 0x99, 0x92, 0xf1, 0x1d, 0x62, 0xe1, 0xf5, 0x9e, 0xf6, 0x8e, 0xc7,
	0xa4, 0xfd, 0xc4, 0x2e, 0x1a, 0x30, 0x58, 0x79, 0x7d, 0x8d, 0xaa, 0x9f, 0xf8, 0x04, 0x8d, 0x79,
	0x09, 0x31, 0x5d, 0x51, 0x60, 0xde, 0x50, 0xe2, 0xf6, 0xec, 0x9e, 0xdf, 0xdd, 0xed, 0xa2, 0x3d,
	0x22, 0x5b, 0xd6, 0xa7, 0xa1, 0x35, 0x70, 0x87, 0xd3, 0xdf, 0x43, 0x84, 0x17, 0x7a, 0x99, 0x1f,
	0xd4, 0x7d, 0xe6, 0xf2, 0x3a, 0x04, 0xae, 0xf0, 0x33, 0x64, 0x5c, 0x55, 0xc0, 0x55, 0xe7, 0x81,
	0xf4, 0x3a, 0xf4, 0x93, 0xcc, 0xff, 0xa2, 0x00, 0x7f, 0x0e, 0x3c, 0x26, 0xf5, 0x21, 0x7e, 0x81,
	0xac, 0x48, 0xa8, 0x2e, 0x82, 0xeb, 0x61, 0xec, 0xd9, 0x91, 0x22, 0x9e, 0xd5, 0xd8, 0x39, 0xe5,
	0x82, 0x74, 0x04, 0xfc, 0x1e, 0x1d, 0xb6, 0x03, 0x85, 0xb5, 0xf7, 0x40, 0x7b, 0x3f, 0x54, 0x92,
	0x7f, 0x6e, 0x80, 0x38, 0xad, 0x40, 0xb7, 0xc6, 0xef, 0x90, 0xdb, 0x39, 0x34, 0xb6, 0xf2, 0xae,
	0xca, 0xe3, 0xfe, 0x9d, 0xb6, 0xfe, 0xe7, 0x2a, 0xe3, 0xe4, 0xa8, 0x65, 0x37, 0x27, 0xf8, 0x14,
	0x39, 0xab, 0x82, 0x85, 0x70, 0x03, 0x71, 0xa5, 0x1a, 0x78, 0x86, 0x1e, 0x1a, 0x2b, 0xf5, 0xa2,
	0x05, 0xfd, 0xb3, 0x4a, 0x6c, 0xc8, 0x81, 0x24, 0x76, 0x10, 0x9e, 0x21, 0x23, 0xa5, 0x19, 0x15,
	0xde, 0x48, 0x0b, 0x1e, 0x69, 0xc1, 0xce, 0xd6, 0xfc, 0x73, 0xc5, 0x21, 0x35, 0x15, 0xbf, 0x41,
	0x26, 0xcd, 0xe3, 0xb4, 0x4a, 0xc0, 0x33, 0xb5, 0xea, 0xf1, 0x1e, 0xd5, 0xb2, 0x66, 0x91, 0x96,
	0x3e, 0x39, 0x45, 0x86, 0x76, 0xc2, 0x53, 0xe4, 0x64, 0xd1, 0x8d, 0xce, 0x58, 0xc8, 0xe9, 0x4f,
	0x90, 0x1b, 0xeb, 0x1d, 0x3b, 0xc4, 0x96, 0xa0, 0x12, 0x5f, 0x48, 0x48, 0x3e, 0x63, 0xcf, 0xed,
	0xcb, 0xda, 0x77, 0x07, 0x93, 0x6f, 0xc8, 0x6c, 0xcc, 0xf0, 0x73, 0x74, 0xd8, 0xac, 0x28, 0x64,
	0xc0, 0xab, 0x54, 0xe8, 0x54, 0x58, 0xc4, 0x69, 0x50, 0xa2, 0xc1, 0xdb, 0xea, 0x3a, 0x10, 0xb2,
	0x1a, 0xee, 0x48, 0xd6, 0x91, 0x6b, 0xca, 0x6a, 0xba, 0x96, 0xac, 0x96, 0x3b, 0x9e, 0xfe, 0xe9,
	0xed, 0x06, 0x85, 0x97, 0x78, 0x22, 0x23, 0x10, 0xc7, 0x50, 0x0a, 0x48, 0x74, 0x4a, 0x2d, 0xd2,
	0x7d, 0xe3, 0x00, 0x1d, 0x74, 0xef, 0x45, 0x13, 0x15, 0x11, 0xf5, 0x56, 0x07, 0xdb, 0x2c, 0x2d,
	0xe7, 0xc4, 0x6e, 0x19, 0xcb, 0x84, 0xab, 0xa1, 0x3b, 0x01, 0x30, 0x56, 0x30, 0x1d, 0x91, 0xf1,
	0x36, 0x07, 0x0b, 0x05, 0x4a, 0xda, 0xe8, 0xd6, 0x9d, 0xec, 0x99, 0xa3, 0x1c, 0xb7, 0x53, 0x35,
	0x87, 0xf8, 0x09, 0xb2, 0xf9, 0xa6, 0xa8, 0xd2, 0x24, 0xdc, 0x44, 0x92, 0x6b, 0xe8, 0xe9, 0x50,
	0x0d, 0x7d, 0x94, 0xc8, 0xe5, 0x48, 0xff, 0x01, 0x5f, 0xfd, 0x0d, 0x00, 0x00, 0xff, 0xff, 0xe4,
	0x17, 0xca, 0x73, 0x78, 0x04, 0x00, 0x00,
}
