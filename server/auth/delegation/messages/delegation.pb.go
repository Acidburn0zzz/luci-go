// Code generated by protoc-gen-go.
// source: github.com/luci/luci-go/server/auth/delegation/messages/delegation.proto
// DO NOT EDIT!

/*
Package messages is a generated protocol buffer package.

It is generated from these files:
	github.com/luci/luci-go/server/auth/delegation/messages/delegation.proto

It has these top-level messages:
	DelegationToken
	Subtoken
*/
package messages

import proto "github.com/golang/protobuf/proto"
import fmt "fmt"
import math "math"

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

// This is a compile-time assertion to ensure that this generated file
// is compatible with the proto package it is being compiled against.
// A compilation error at this line likely means your copy of the
// proto package needs to be updated.
const _ = proto.ProtoPackageIsVersion2 // please upgrade the proto package

type Subtoken_Kind int32

const (
	// This is to catch old tokens that don't have 'kind' field yet.
	//
	// Tokens of this kind are interpreted as 'BEARER_DELEGATION_TOKEN' for now,
	// for compatibility. But eventually (when all backends are updated), they
	// will become invalid (and there will be no way to generate them). This is
	// needed to avoid old servers accidentally interpret tokens of kind != 0 as
	// BEARER_DELEGATION_TOKEN tokens.
	Subtoken_UNKNOWN_KIND Subtoken_Kind = 0
	// The token of this kind can be sent in X-Delegation-Token-V1 HTTP header.
	// The services will check all restrictions of the token, and will
	// authenticate requests as coming from 'delegated_identity'.
	Subtoken_BEARER_DELEGATION_TOKEN Subtoken_Kind = 1
)

var Subtoken_Kind_name = map[int32]string{
	0: "UNKNOWN_KIND",
	1: "BEARER_DELEGATION_TOKEN",
}
var Subtoken_Kind_value = map[string]int32{
	"UNKNOWN_KIND":            0,
	"BEARER_DELEGATION_TOKEN": 1,
}

func (x Subtoken_Kind) String() string {
	return proto.EnumName(Subtoken_Kind_name, int32(x))
}
func (Subtoken_Kind) EnumDescriptor() ([]byte, []int) { return fileDescriptor0, []int{1, 0} }

// Signed serialized Subtoken.
//
// This message is just an envelope that carries the serialized Subtoken message
// and its signature.
//
// Next ID: 6.
type DelegationToken struct {
	// Identity of a service that signed this token.
	//
	// It can be a 'service:<app-id>' string or 'user:<service-account-email>'
	// string.
	//
	// In both cases the appropriate certificate store will be queried (via SSL)
	// for the public key to use for signature verification.
	SignerId string `protobuf:"bytes,2,opt,name=signer_id,json=signerId" json:"signer_id,omitempty"`
	// ID of a key used for making the signature.
	//
	// There can be multiple active keys at any moment in time: one used for new
	// signatures, and one being rotated out (but still valid for verification).
	//
	// The lifetime of the token indirectly depends on the lifetime of the signing
	// key, which is 24h. So delegation tokens can't live longer than 24h.
	SigningKeyId string `protobuf:"bytes,3,opt,name=signing_key_id,json=signingKeyId" json:"signing_key_id,omitempty"`
	// The signature: PKCS1_v1_5+SHA256(serialized_subtoken, signing_key_id).
	Pkcs1Sha256Sig []byte `protobuf:"bytes,4,opt,name=pkcs1_sha256_sig,json=pkcs1Sha256Sig,proto3" json:"pkcs1_sha256_sig,omitempty"`
	// Serialized Subtoken message. It's signature is stored in pkcs1_sha256_sig.
	SerializedSubtoken []byte `protobuf:"bytes,5,opt,name=serialized_subtoken,json=serializedSubtoken,proto3" json:"serialized_subtoken,omitempty"`
}

func (m *DelegationToken) Reset()                    { *m = DelegationToken{} }
func (m *DelegationToken) String() string            { return proto.CompactTextString(m) }
func (*DelegationToken) ProtoMessage()               {}
func (*DelegationToken) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{0} }

// Identifies who delegates what authority to whom where.
//
// Next ID: 9.
type Subtoken struct {
	// What kind of token is this.
	//
	// Defines how it can be used. See comments for Kind enum.
	Kind Subtoken_Kind `protobuf:"varint,8,opt,name=kind,enum=messages.Subtoken_Kind" json:"kind,omitempty"`
	// Identifier of this subtoken as generated by the token server.
	//
	// Used for logging and tracking purposes.
	SubtokenId int64 `protobuf:"varint,4,opt,name=subtoken_id,json=subtokenId" json:"subtoken_id,omitempty"`
	// Identity whose authority is delegated.
	//
	// A string of the form "user:<email>".
	DelegatedIdentity string `protobuf:"bytes,1,opt,name=delegated_identity,json=delegatedIdentity" json:"delegated_identity,omitempty"`
	// Who requested this token.
	//
	// This can match delegated_identity if the user is delegating their own
	// identity or it can be a different id if the token is actually
	// an impersonation token.
	RequestorIdentity string `protobuf:"bytes,7,opt,name=requestor_identity,json=requestorIdentity" json:"requestor_identity,omitempty"`
	// When the token was generated (and when it becomes valid).
	//
	// Number of seconds since epoch (Unix timestamp).
	CreationTime int64 `protobuf:"varint,2,opt,name=creation_time,json=creationTime" json:"creation_time,omitempty"`
	// How long the token is considered valid (in seconds).
	ValidityDuration int32 `protobuf:"varint,3,opt,name=validity_duration,json=validityDuration" json:"validity_duration,omitempty"`
	// Who can present this token.
	//
	// Each item can be an identity string (e.g. "user:<email>"), a "group:<name>"
	// string, or special "*" string which means "Any bearer can use the token".
	Audience []string `protobuf:"bytes,5,rep,name=audience" json:"audience,omitempty"`
	// What services should accept this token.
	//
	// List of services (specified as service identities, e.g. "service:app-id")
	// that should accept this token. May also contain special "*" string, which
	// means "All services".
	Services []string `protobuf:"bytes,6,rep,name=services" json:"services,omitempty"`
}

func (m *Subtoken) Reset()                    { *m = Subtoken{} }
func (m *Subtoken) String() string            { return proto.CompactTextString(m) }
func (*Subtoken) ProtoMessage()               {}
func (*Subtoken) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{1} }

func init() {
	proto.RegisterType((*DelegationToken)(nil), "messages.DelegationToken")
	proto.RegisterType((*Subtoken)(nil), "messages.Subtoken")
	proto.RegisterEnum("messages.Subtoken_Kind", Subtoken_Kind_name, Subtoken_Kind_value)
}

func init() {
	proto.RegisterFile("github.com/luci/luci-go/server/auth/delegation/messages/delegation.proto", fileDescriptor0)
}

var fileDescriptor0 = []byte{
	// 426 bytes of a gzipped FileDescriptorProto
	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x09, 0x6e, 0x88, 0x02, 0xff, 0x4c, 0x92, 0xc1, 0x6f, 0xd3, 0x30,
	0x18, 0xc5, 0x49, 0xdb, 0x8d, 0xcc, 0x94, 0x92, 0x99, 0xc3, 0x22, 0x38, 0x80, 0x0a, 0x87, 0x49,
	0x68, 0x89, 0x18, 0x1a, 0xf7, 0xa1, 0x46, 0x50, 0x82, 0x52, 0xc9, 0x0d, 0xe2, 0x68, 0xa5, 0xf1,
	0xa7, 0xd4, 0x4a, 0x9b, 0x0c, 0xdb, 0x99, 0x54, 0xfe, 0x2f, 0xfe, 0x36, 0xae, 0xd8, 0x6e, 0x9c,
	0xed, 0x12, 0xc5, 0xef, 0xf7, 0xac, 0xbc, 0xef, 0xe5, 0x43, 0xdf, 0x2a, 0xae, 0xb6, 0xdd, 0x26,
	0x2a, 0xdb, 0x7d, 0xbc, 0xeb, 0x4a, 0x6e, 0x1f, 0x57, 0x55, 0x1b, 0x4b, 0x10, 0xf7, 0x20, 0xe2,
	0xa2, 0x53, 0xdb, 0x98, 0xc1, 0x0e, 0xaa, 0x42, 0xf1, 0xb6, 0x89, 0xf7, 0x20, 0x65, 0x51, 0x81,
	0x7c, 0xa4, 0x45, 0x77, 0xa2, 0x55, 0x2d, 0xf6, 0x1d, 0x9a, 0xff, 0xf5, 0xd0, 0x8b, 0xc5, 0x80,
	0xf3, 0xb6, 0x86, 0x06, 0xbf, 0x46, 0x67, 0x92, 0x57, 0x0d, 0x08, 0xca, 0x59, 0x38, 0x7a, 0xeb,
	0x5d, 0x9e, 0x11, 0xff, 0x28, 0x2c, 0x19, 0x7e, 0x8f, 0x66, 0xe6, 0x9d, 0x37, 0x15, 0xad, 0xe1,
	0x60, 0x1c, 0x63, 0xeb, 0x98, 0xf6, 0x6a, 0x0a, 0x07, 0xed, 0xba, 0x44, 0xc1, 0x5d, 0x5d, 0xca,
	0x8f, 0x54, 0x6e, 0x8b, 0xeb, 0x9b, 0xcf, 0x54, 0xc3, 0x70, 0xa2, 0x7d, 0x53, 0x32, 0xb3, 0xfa,
	0xda, 0xca, 0x6b, 0x5e, 0xe1, 0x18, 0xbd, 0xd4, 0xf1, 0x79, 0xb1, 0xe3, 0x7f, 0x80, 0x51, 0xd9,
	0x6d, 0x94, 0xc9, 0x10, 0x9e, 0x58, 0x33, 0x7e, 0x40, 0xeb, 0x9e, 0x7c, 0x9f, 0xf8, 0x5e, 0x30,
	0x9a, 0xff, 0x1b, 0x21, 0xdf, 0x49, 0xf8, 0x03, 0x9a, 0xd4, 0xbc, 0x61, 0xa1, 0xaf, 0x2f, 0xcd,
	0xae, 0x2f, 0x22, 0x37, 0x5d, 0xe4, 0x1c, 0x51, 0xaa, 0x31, 0xb1, 0x26, 0xfc, 0x06, 0x3d, 0x73,
	0x5f, 0x31, 0xe9, 0x4d, 0xaa, 0x31, 0x41, 0x4e, 0xd2, 0xd9, 0xaf, 0x10, 0xee, 0x0b, 0xd3, 0x81,
	0x38, 0x83, 0x46, 0x71, 0x75, 0x08, 0x3d, 0x3b, 0xe5, 0xf9, 0x40, 0x96, 0x3d, 0x30, 0x76, 0x01,
	0xbf, 0x3b, 0x90, 0xaa, 0x15, 0x0f, 0xf6, 0xa7, 0x47, 0xfb, 0x40, 0x06, 0xfb, 0x3b, 0xf4, 0xbc,
	0x14, 0x60, 0xdb, 0xa6, 0x8a, 0xef, 0xc1, 0x16, 0x3c, 0x26, 0x53, 0x27, 0xe6, 0x5a, 0xd3, 0x03,
	0x9d, 0xdf, 0xeb, 0xb1, 0x99, 0xbe, 0x40, 0x59, 0x27, 0x2c, 0xb0, 0x3d, 0x9f, 0x90, 0xc0, 0x81,
	0x45, 0xaf, 0xe3, 0x57, 0xc8, 0x2f, 0x3a, 0xc6, 0xa1, 0x29, 0x41, 0xd7, 0x36, 0x36, 0x7f, 0xcb,
	0x9d, 0x0d, 0x33, 0xcb, 0xc1, 0x4b, 0x90, 0xe1, 0xe9, 0x91, 0xb9, 0xf3, 0xfc, 0x06, 0x4d, 0x4c,
	0x2d, 0x38, 0x40, 0xd3, 0x9f, 0x59, 0x9a, 0xad, 0x7e, 0x65, 0x34, 0x5d, 0x66, 0x8b, 0xe0, 0x89,
	0x5e, 0x80, 0x8b, 0x2f, 0xc9, 0x2d, 0x49, 0x08, 0x5d, 0x24, 0x3f, 0x92, 0xaf, 0xb7, 0xf9, 0x72,
	0x95, 0xd1, 0x7c, 0x95, 0x26, 0x59, 0xe0, 0x6d, 0x4e, 0xed, 0x0a, 0x7d, 0xfa, 0x1f, 0x00, 0x00,
	0xff, 0xff, 0x49, 0xa7, 0x07, 0xba, 0x8e, 0x02, 0x00, 0x00,
}
