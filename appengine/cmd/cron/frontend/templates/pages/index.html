{{define "title"}}Cron Service{{end}}

{{define "head"}}
<style type="text/css">
#jobs-table {
  table-layout: fixed;
}
</style>
{{end}}

{{define "content"}}

<ol class="breadcrumb">
  <li class="active"><a href="/">All projects</a></li>
</ol>

<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <table class="table" id="jobs-table">
        <thead>
          <tr>
            <th style="width: 150px;">Project</th>
            <th style="width: 300px;">Job</th>
            <th style="width: 200px;">Schedule</th>
            <th style="width: 120px;">State</th>
            <th>Next run</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        {{range .Jobs }}
          <tr>
            <td><a href="/jobs/{{.ProjectID}}">{{.ProjectID}}</a></td>
            <td><a href="/jobs/{{.ProjectID}}/{{.JobID}}">{{.JobID}}</a></td>
            <td>{{.Schedule}}</td>
            <td>{{.State}}</td>
            <td>{{.NextRun}}</td>
            <td>
              <form style="display: inline"
                    action="/actions/runJob/{{.ProjectID}}/{{.JobID}}"
                    method="POST">
                {{$.XsrfTokenField}}
                <button style="display: inline" type="submit" class="btn btn-danger btn-xs">
                  Run now
                </button>
              </form>
            </td>
          </tr>
        {{end}}
        </tbody>
      </table>
    </div>
  </div>
</div>

{{end}}
